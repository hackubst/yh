webpackJsonp([13],{IMSG:function(e,t){},"Wc+1":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("Dd8w"),i=o.n(s),a=o("NYxO"),n=o("d2gY"),d=o("bcYq"),m=o("X5Rj"),c={name:"editMode",mixins:[d.a,d.d],components:{editTablea:m.a},data:function(){return{chooseTypes:n.c,chooseItem:["新建模式","已有模式"],haveModesItem:[],chooseModeIndex:0,currentIndex:0,modeName:"",bet_mode_id:"",allBet:""}},methods:i()({get_model_list:function(){var e=this;this.$Api({api_name:"kkl.game.BetModeList",game_type_id:this.choosedGame.game_type_id},function(t,o){if(t)e.$msg(t.error_msg,"error",1500);else if(e.haveModesItem=o.data.bet_mode_list,0!=e.haveModesItem.length){e.modeName=e.haveModesItem[e.chooseModeIndex].mode_name,e.bet_mode_id=e.haveModesItem[e.chooseModeIndex].bet_mode_id,e.allBet=e.haveModesItem[e.chooseModeIndex].total_money;var s=JSON.parse(e.haveModesItem[e.chooseModeIndex].bet_json);e.renderLastBet(s)}})},chooseMode:function(e){this.currentIndex=e,1==e?this.get_model_list():(this.modeName="",this.bet_mode_id="",this.allBet="",this.clearChoose())},remove_model:function(){var e=this,t=this.haveModesItem[this.chooseModeIndex].bet_mode_id;this.$Api({api_name:"kkl.game.delBetMode",bet_mode_id:t},function(t,o){t?e.$msg(t.error_msg,"error",1500):(e.$msg(o.data,"success",1500),e.chooseModeIndex=0,e.get_model_list(),e.clearChoose())})},choose_model:function(e,t,o,s,i){this.clearChoose(),this.chooseModeIndex=e,this.modeName=t,this.bet_mode_id=o,this.allBet=s;var a=JSON.parse(i);this.renderLastBet(a)},save:function(){var e=this,t=this.getBetJSON(this.choosedGame.game_type_id),o=JSON.parse(t);""!=this.modeName&&""!=this.allBet&&0!=o[0].bet_json.length?1!=this.currentIndex?this.$Api({api_name:"kkl.game.newBetMode",bet_json:t,game_type_id:this.choosedGame.game_type_id,mode_name:this.modeName,total_money:this.allBet},function(t,o){t?e.$msg(t.error_msg,"error",1500):(e.$msg("新建成功","success",1500),e.modeName="",e.bet_mode_id="",e.allBet="",e.clearChoose())}):this.$Api({api_name:"kkl.game.newBetMode",bet_json:t,game_type_id:this.choosedGame.game_type_id,mode_name:this.modeName,total_money:this.allBet,bet_mode_id:this.bet_mode_id},function(t,o){t?e.$msg(t.error_msg,"error",1500):(e.$msg("修改成功","success",1500),e.get_model_list())}):this.$msg("请填写模式名称","error",1500)}},Object(a.d)({chooseGame:"CHOOSE_GAME"}))},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"editMode"},[s("div",{staticClass:"edit_choose"},e._l(e.chooseItem,function(t,o){return s("div",{key:o,class:e.currentIndex==o?"choose_item active":"choose_item",on:{click:function(t){return e.chooseMode(o)}}},[e._v(e._s(t))])}),0),e._v(" "),0==e.currentIndex?s("div",{staticClass:"mode_name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modeName,expression:"modeName"}],attrs:{type:"text",placeholder:"填写模式名称"},domProps:{value:e.modeName},on:{input:function(t){t.target.composing||(e.modeName=t.target.value)}}})]):e._e(),e._v(" "),s("div",{staticClass:"mode_title"},[0==e.currentIndex?s("span",[e._v("标准投注选择")]):e._e(),e._v(" "),1==e.currentIndex?s("span",[e._v("选择模式进行编辑或者"),s("span",{staticStyle:{color:"#D1913C"},on:{click:function(t){return e.remove_model()}}},[e._v("删除已选择模式")])]):e._e()]),e._v(" "),1==e.currentIndex?s("div",{staticClass:"haveModes"},e._l(e.haveModesItem,function(t,o){return s("div",{key:o,staticClass:"mode_item",class:e.chooseModeIndex==o?"active":"",on:{click:function(s){return e.choose_model(o,t.mode_name,t.bet_mode_id,t.total_money,t.bet_json)}}},[e._v("\n      "+e._s(t.mode_name)+"\n    ")])}),0):e._e(),e._v(" "),s("div",{staticClass:"mode_types"},e._l(e.chooseTypes,function(t,o){return s("div",{key:o,staticClass:"type_item",class:e.ModeTypeIndex==o?"active":"",on:{click:function(s){1==t.typeFnType?e.filterDivisor(t.divisor,t.remainder,o):e.filterSize(t.size,t.sizeType,o)}}},[e._v("\n      "+e._s(t.typeName)+"\n    ")])}),0),e._v(" "),s("div",{staticClass:"mode_operate"},[s("div",{staticClass:"mode_multiply"},e._l(e.mode_multiply,function(t,o){return s("div",{key:o,staticClass:"multiply_item",on:{click:function(o){return e.allDouble(t)}}},[s("span",[e._v(e._s(t)+"倍")])])}),0),e._v(" "),s("div",{staticClass:"operate_btn"},[s("div",{staticClass:"btn_item",on:{click:function(t){return e.betMyAll()}}},[e._v("梭哈")]),e._v(" "),s("div",{staticClass:"btn_item",on:{click:function(t){return e.allChoose()}}},[e._v("全包")]),e._v(" "),s("div",{staticClass:"btn_item",on:{click:function(t){return e.reverseChoose()}}},[e._v("反选")]),e._v(" "),s("div",{staticClass:"btn_item",on:{click:function(t){return e.clearChoose()}}},[e._v("清除")])]),e._v(" "),s("div",{staticClass:"mode_bet"},[s("span",[e._v("总投注:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.allBet,expression:"allBet"}],attrs:{type:"number",disabled:""},domProps:{value:e.allBet},on:{input:function(t){t.target.composing||(e.allBet=t.target.value)}}}),e._v(" "),s("img",{attrs:{src:o("RIdA"),alt:""}})]),e._v(" "),s("div",{staticClass:"save_mode",on:{click:function(t){return e.save()}}},[e._v("\n      保存\n    ")])]),e._v(" "),s("edit-tablea",{attrs:{modeHalf:e.modeHalf,modeTable:e.modeNumsMore[0]},on:{countDefault:e.countDefault}})],1)},staticRenderFns:[]};var l=o("VU/8")(c,_,!1,function(e){o("IMSG")},"data-v-c6212f96",null);t.default=l.exports}});