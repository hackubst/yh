(function(a){a.fn.advPlugin=function(o){var h={auto:true,speed:500,timeInterval:1000,width:500,height:300,events:"hover",hasBtn:true,direction:false};var f=a.extend({},h,o);var i=this;a(this).data("binded",true);var j=0;var l=i.find("#wheel_smallArea >li").length-1;var n=i.find("#wheel_bigArea");var d=i.find("#wheel_smallArea");var k;var m=i.find("#wheel_leftBtn");var b=i.find("#wheel_rightBtn");d.find("li:first").addClass("hover");if(f.direction){n.css("margin-left",-f.width)}else{n.find("li").css("float","none");n.css({width:f.width,height:9999,marginTop:-f.height})}n.find("li:last").clone().addClass("clone cloneT").prependTo(n);n.find("li:first").next().clone().addClass("clone cloneB").appendTo(n);function p(q){if(j==l){d.find("li").removeClass("hover");d.find("li:first").addClass("hover");if(q){n.stop().animate({marginLeft:-((l+2)*f.width)},f.speed,function(){n.css("marginLeft",-f.width)})}else{n.stop().animate({marginTop:-((l+2)*f.height)},f.speed,function(){n.css("marginTop",-f.height)})}return j=0}else{d.find("li:eq("+j+")").removeClass("hover");d.find("li:eq("+(j+1)+")").addClass("hover");if(q){n.stop().animate({marginLeft:-f.width*(j+2)},f.speed)}else{n.stop().animate({marginTop:-f.height*(j+2)},f.speed)}return j++}}if(f.auto){i.hover(function(){clearInterval(k)},function(){k=setInterval(g,f.timeInterval)})}function e(r,q){if(f.events=="click"){d.find("li").click(function(){var s=d.find("li").index(this);a(this).addClass("hover");a(this).siblings().removeClass("hover");if(r){n.stop().animate({marginLeft:-f.width*(s+1)},f.speed)}else{n.stop().animate({marginTop:-f.height*(s+1)},f.speed)}return j=s})}else{d.find("li").hover(function(){var s=d.find("li").index(this);a(this).addClass("hover");a(this).siblings().removeClass("hover");if(r){n.stop().animate({marginLeft:-f.width*(s+1)},f.speed)}else{n.stop().animate({marginTop:-f.height*(s+1)},f.speed)}return j=s},function(){return})}}function c(){m.click(function(){if(j==0){d.find("li").removeClass("hover");d.find("li:last").addClass("hover");if(f.direction){n.stop().animate({marginLeft:0},f.speed,function(){n.css("marginLeft",-f.width*(l+1))})}else{n.stop().animate({marginTop:0},f.speed,function(){n.css("marginTop",-f.height*(l+1))})}return j=l}else{d.find("li").removeClass("hover");d.find("li:eq("+(j-1)+")").addClass("hover");if(f.direction){n.stop().animate({marginLeft:-f.width*j},f.speed)}else{n.stop().animate({marginTop:-f.height*j},f.speed)}return j--}});b.click(function(q){if(j==l){d.find("li").removeClass("hover");d.find("li:first").addClass("hover");if(f.direction){n.stop().animate({marginLeft:-(l+2)*f.width},f.speed,function(){n.css("marginLeft",-f.width)})}else{n.stop().animate({marginTop:-(l+2)*f.height},f.speed,function(){n.css("marginTop",-f.height)})}return j=0}else{d.find("li").removeClass("hover");d.find("li:eq("+(j+1)+")").addClass("hover");if(f.direction){n.stop().animate({marginLeft:-f.width*(j+2)},f.speed)}else{n.stop().animate({marginTop:-f.height*(j+2)},f.speed)}return j++}})}if(f.hasBtn){c()}e(f.direction,f.auto);function g(){p(f.direction)}if(f.auto){k=setInterval(g,f.timeInterval)}}})(jQuery);
